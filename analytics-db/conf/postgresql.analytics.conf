# analytics-db/conf/postgresql.analytics.conf
# Base
listen_addresses = '*'
timezone = 'Europe/Zurich'

# Preload pg_stat_statements (must be set at server start)
shared_preload_libraries = 'pg_stat_statements'

# pg_stat_statements settings (safe defaults)
pg_stat_statements.max = 5000
pg_stat_statements.track = all

# Analytics-friendly (modest) tweaks for a small VM
work_mem = '64MB'
maintenance_work_mem = '256MB'
effective_cache_size = '2GB'
random_page_cost = 1.1

# Keep autovacuum on (dbt creates/drops often)
autovacuum = on
